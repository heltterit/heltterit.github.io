{"version":3,"sources":["assets/images/khslogo.png","pages/StatisticsPage/VisitorGraph.tsx","pages/StatisticsPage.tsx","components/GigDialog.tsx","pages/GigsPage/GigsGraph.tsx","pages/GigsPage.tsx","pages/TestimonialsPage/TestimonialDialog.tsx","pages/TestimonialsPage.tsx","components/LoginForm.tsx","App.tsx","serviceWorker.js","index.tsx"],"names":["module","exports","VisitorGraph","props","data","react_default","a","createElement","line","sourceData","yearData","currentYear","id","reverse","forEach","item","year","month","split","parseInt","push","newMonth","x","find","mAbbr","ndx","y","count","getGraphData","margin","top","right","bottom","left","xScale","type","yScale","stacked","min","max","axisBottom","tickSize","tickPadding","tickRotation","legend","legendOffset","legendPosition","axisLeft","markers","axis","value","lineStyle","strokeDasharray","curve","dotSize","dotColor","dotBorderWidth","dotBorderColor","enableDotLabel","animate","motionStiffness","motionDamping","legends","anchor","direction","justify","translateX","translateY","itemsSpacing","itemDirection","itemWidth","itemHeight","itemOpacity","symbolSize","symbolShape","effects","on","style","itemBackground","StatisticsPage","state","totalHits","monthlyHits","loading","_this2","this","setState","promises","firebase","database","ref","once","then","snapshot","val","valObj","monthlyValues","Object","keys","map","key","Promise","all","classes","_this$state","index_es","className","sortedMonthlyHits","sort","b","root","Fragment","allHits","variant","graph","StatisticsPage_VisitorGraph","m","Component","withStyles","theme","flexGrow","padding","spacing","unit","paddingLeft","marginTop","marginLeft","height","width","withTheme","backgroundColor","palette","background","default","show","onSave","onCancel","onFieldChange","onDelete","deleteButton","color","onClick","PaperProps","open","fullScreen","maxWidth","elevation","name","label","fullWidth","eventDate","onChange","evt","target","eventType","control","checked","venueName","venueAddress","venueCity","marginBottom","desc","venueUrl","disabled","GigsGraph","bar","distinctTypes","Array","from","Set","event","substr","yearObj","objectSpread","indexBy","labelTextColor","labelSkipWidth","labelSkipHeight","Gig","gig","classCallCheck","undefined","dateValue","getFullYear","toString","getMonth","d","getDate","length","concat","getISODateString","Date","venueImgUrl","GigsPage","gigs","gigToEdit","sortGigs","handleEdit","_this","prevState","handleEditFieldChange","defineProperty","getUpdateObject","handleEditSave","addMode","myRef","gigToUpdate","update","err","newGigs","handleEditCancel","handleDelete","_this$state$gigToEdit","confirm","remove","updatedGigs","filter","orderByChild","_this3","components_GigDialog","title","GigsPage_GigsGraph","addButton","loadingContainer","component","button","electricAvatar","toUpperCase","primary","secondary","ArrowForwardIos_default","openIcon","red","grey","quoter","multiline","rowsMax","timeAndPlace","quote","Testimonial","TestimonialsPage","testimonials","testimonialToEdit","testimonialToUpdate","newTestimonials","_this$state$testimoni","updatedTestimonials","orderByKey","rows","row","TestimonialsPage_TestimonialDialog","paddingTop","header","common","white","paper","actionButtons","display","loginButton","flex","siteButton","onSignIn","src","Logo","email","password","container","href","App","signInData","isSignedIn","selectedTab","handleTabChange","handleSignInFieldChange","handleSignIn","_this$state$signInDat","auth","signInWithEmailAndPassword","user","onAuthStateChanged","location","pathname","newProps","components_LoginForm","position","appBar","grow","KhsLogo","signOut","centered","NavLink","assign","to","content","Route","exact","path","appBarSpacer","minHeight","mixins","toolbar","Boolean","window","hostname","match","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","createMuiTheme","light","main","dark","contrastText","typography","useNextVariants","ReactDOM","render","BrowserRouter","core_styles","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.40fab7db.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React from 'react';\nimport { ResponsiveLine } from '@nivo/line';\n\ninterface IProps {\n    data: any[],\n}\n\nconst VisitorGraph = (props: IProps) => {\n\n    const getGraphData = (sourceData: any[]): any[] => {\n        const yearData: any[] = [];\n        let currentYear: {\n            id: string,\n            data: {\n                x: string,\n                y: number,\n            }[],\n        } = { id: '', data: [] };\n        sourceData.reverse().forEach((item) => {\n            const year = item.month.split('-')[0];\n            const month = parseInt(item.month.split('-')[1]);\n            if (currentYear.id !== year) {\n                currentYear = {\n                    id: year,\n                    data: [],\n                };\n                yearData.push(currentYear);\n            }\n            const monthAbbr: string = ['tam', 'hel', 'maa', 'huh', 'tou', 'kes', 'hei', 'elo', 'syy', 'lok', 'mar', 'jou'].find((mAbbr: any, ndx: number) => month - 1 === ndx) || '';\n            const newMonth: {\n                x: string,\n                y: number,\n            } = {\n                x: monthAbbr,\n                y: parseInt(item.count),\n            };\n            currentYear.data.push(newMonth);\n        });\n        return yearData;\n    }\n\n    const { data } = props;\n    return (\n        <ResponsiveLine\n            data={getGraphData(data)}\n            margin={{\n                top: 50,\n                right: 110,\n                bottom: 50,\n                left: 60\n            }}\n            xScale={{\n                type: 'point'\n            }}\n            yScale={{\n                type: 'linear',\n                stacked: false,\n                min: 'auto',\n                max: 'auto',\n            }}\n            // minY='auto'\n            // maxY='auto'\n            // stacked={true}\n            // axisTop=null\n            // axisRight=null\n            axisBottom={{\n                // orient: 'bottom',\n                tickSize: 5,\n                tickPadding: 5,\n                tickRotation: 0,\n                legend: 'kuukausi',\n                legendOffset: 36,\n                legendPosition: 'middle'\n            }}\n            axisLeft={{\n                // orient: 'left',\n                tickSize: 5,\n                tickPadding: 5,\n                tickRotation: 0,\n                legend: 'kpl',\n                legendOffset: -40,\n                legendPosition: 'middle',\n            }}\n            markers={[\n                {\n                    axis: 'y',\n                    value: 100,\n                    lineStyle: {\n                        strokeDasharray: 2\n                    }\n                },\n                {\n                    axis: 'y',\n                    value: 200,\n                    lineStyle: {\n                        strokeDasharray: 2\n                    }\n                },\n                {\n                    axis: 'y',\n                    value: 300,\n                    lineStyle: {\n                        strokeDasharray: 2\n                    }\n                },\n            ]}\n            // colors=\"set1\"\n            curve=\"linear\"\n            dotSize={10}\n            dotColor='inherit:darker(0.3)'\n            dotBorderWidth={2}\n            dotBorderColor='#ffffff'\n            enableDotLabel={false}\n            // dotLabel='y'\n            // dotLabelYOffset={-12}\n            animate={true}\n            motionStiffness={90}\n            motionDamping={15}\n            legends={[\n                {\n                    anchor: 'bottom-right',\n                    direction: 'column',\n                    justify: false,\n                    translateX: 100,\n                    translateY: 0,\n                    itemsSpacing: 0,\n                    itemDirection: 'left-to-right',\n                    itemWidth: 80,\n                    itemHeight: 20,\n                    itemOpacity: 0.75,\n                    symbolSize: 12,\n                    symbolShape: 'circle',\n                    // symbolBorderColor: 'rgba(0, 0, 0, .5)',\n                    effects: [\n                        {\n                            on: 'hover',\n                            style: {\n                                itemBackground: 'rgba(0, 0, 0, .03)',\n                                itemOpacity: 1\n                            }\n                        }\n                    ]\n                }\n            ]}\n        />\n    );\n}\n\nexport default VisitorGraph;","import React, { Component, Fragment } from 'react';\nimport firebase from 'firebase';\nimport { CircularProgress, Table, TableBody, TableCell, TableHead, TableRow, Typography } from '@material-ui/core';\nimport { Theme, withStyles } from '@material-ui/core/styles';\nimport VisitorGraph from './StatisticsPage/VisitorGraph';\n\nconst styles = (theme: Theme) => ({\n    root: {\n        // padding: theme.spacing.unit * 3,\n        flexGrow: 1,\n    },\n    allHits: {\n        padding: theme.spacing.unit * 2,\n        paddingLeft: theme.spacing.unit * 3,\n    },\n    loading: {\n        marginTop: theme.spacing.unit * 2,\n        marginLeft: theme.spacing.unit * 2,\n    },\n    graph: {\n        height: '300px',\n        width: '100%',\n    }\n});\n\nclass StatisticsPage extends Component<any, any> {\n    state = {\n        totalHits: 0,\n        monthlyHits: [],\n        loading: false,\n    };\n\n    componentDidMount() {\n        this.setState({loading: true}, () => {\n            const promises: Promise<any>[] = [];\n            promises.push(firebase.database().ref('counters/all-hits-index').once('value').then(snapshot => {\n                this.setState({\n                    totalHits: snapshot.val(),\n                });\n            }));\n            promises.push(firebase.database().ref('counters/monthly-hits-index').once('value').then(snapshot => {\n                const valObj = snapshot.val();\n                const monthlyValues = Object.keys(valObj).map((key: string) => {\n                    return {\n                        month: key,\n                        count: valObj[key],\n                    };\n                });\n                this.setState({\n                    monthlyHits: monthlyValues,\n                });\n            }));\n            Promise.all(promises).then(() => {\n                this.setState({loading: false});\n            });\n        });\n    }\n\n    render() {\n        const { classes } = this.props;\n        const { totalHits, monthlyHits, loading } = this.state;\n        if (loading) {\n            return (\n                <CircularProgress className={classes.loading} />\n            );\n        }\n        const sortedMonthlyHits = monthlyHits.sort((a: any, b: any) => {\n            if (a.month < b.month) return 1;\n            if (a.month > b.month) return -1;\n            return 0;\n        });\n        return (\n            <div className={classes.root}>\n                <React.Fragment>\n                    <Typography className={classes.allHits} variant=\"subtitle1\">Kävijät etusivulla yhteensä {totalHits} kpl</Typography>\n                    <div className={classes.graph}>\n                        <VisitorGraph data={sortedMonthlyHits} />\n                    </div>\n                    <Table>\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>Kuukausi</TableCell>\n                                <TableCell>Kävijät</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {sortedMonthlyHits.map((m: any) => (\n                                <TableRow key={m.month}>\n                                    <TableCell>{m.month}</TableCell>\n                                    <TableCell>{m.count}</TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </React.Fragment>\n            </div>\n        );\n    }\n}\n\nexport default withStyles(styles, {withTheme: true})(StatisticsPage);","import React from 'react';\nimport {\n    Button,\n    Dialog,\n    DialogTitle,\n    DialogActions,\n    DialogContent,\n    FormControlLabel,\n    Paper,\n    Radio,\n    RadioGroup,\n    TextField,\n    Theme,\n    Typography,\n    withStyles,\n} from '@material-ui/core'\n\ninterface IProps {\n    show: boolean;\n    data: any;\n    width?: any;\n    onSave: (event: React.MouseEvent) => void;\n    onCancel: (event: React.MouseEvent) => void;\n    onDelete: () => void;\n    onFieldChange: (fieldName: string, value: any) => void;\n    classes: any,\n}\n\nconst styles = (theme: Theme) => ({\n    root: {\n        backgroundColor: theme.palette.background.default,\n    },\n});\n\nconst GigDialog = (props: IProps) => {\n    const { classes, show, data, onSave, onCancel, onFieldChange, onDelete } = props;\n    if (!data) { return null; }\n\n    let deleteButton = null;\n    if (!!data.id) {\n        deleteButton = <Button variant=\"text\" color=\"secondary\" onClick={onDelete}>Poista</Button>;\n    }\n\n    return (\n        <Dialog\n            PaperProps={{\n                classes: {\n                    root: classes.root,\n                },\n            }}\n            open={show}\n            // fullWidth={true}\n            fullScreen\n            maxWidth={'sm'}\n        >\n            <DialogTitle>Keikan tiedot</DialogTitle>\n            <DialogContent>\n                <Paper elevation={1} style={{padding: '10px'}}>\n                    <Typography variant=\"h6\">Keikkapäivä *</Typography>\n                    <TextField\n                        name=\"eventDate\"\n                        label=\"\"\n                        type=\"date\"\n                        fullWidth\n                        value={data.eventDate || ''}\n                        onChange={(evt: any) => onFieldChange(evt.target.name, evt.target.value)}\n                    />\n                </Paper>\n                <Paper elevation={1} style={{padding: '10px', marginTop: '10px'}}>\n                    <Typography variant=\"h6\">Keikan tyyppi *</Typography>\n                    <div>\n                        <RadioGroup\n                            name=\"eventType\"\n                            onChange={(evt: any) => onFieldChange(evt.target.name, evt.target.value)}\n                            value={data.eventType}\n                        >\n                            <FormControlLabel\n                                control={<Radio />}\n                                checked={data.eventType === 'electric' || !data.eventType}\n                                value=\"electric\"\n                                label=\"Sähköinen\"\n                            />\n                            <FormControlLabel\n                                control={<Radio />}\n                                checked={data.eventType === 'acoustic'}\n                                value=\"acoustic\"\n                                label=\"Akustinen\"\n                            />\n                        </RadioGroup>\n                    </div>\n                </Paper>\n                <Paper elevation={1} style={{padding: '10px', marginTop: '10px'}}>\n                    <Typography variant=\"h6\">Keikkapaikka</Typography>\n                    <TextField\n                        name=\"venueName\"\n                        label=\"Paikka tai 'Private' *\"\n                        fullWidth\n                        value={data.venueName}\n                        onChange={(evt: any) => onFieldChange(evt.target.name, evt.target.value)}\n                    />\n                    <TextField\n                        name=\"venueAddress\"\n                        label=\"Katuosoite\"\n                        fullWidth\n                        value={data.venueAddress}\n                        onChange={(evt: any) => onFieldChange(evt.target.name, evt.target.value)}\n                    />\n                    <TextField\n                        name=\"venueCity\"\n                        label=\"Kaupunki *\"\n                        fullWidth\n                        value={data.venueCity}\n                        onChange={(evt: any) => onFieldChange(evt.target.name, evt.target.value)}\n                    />\n                </Paper>\n                <Paper elevation={1} style={{padding: '10px', marginTop: '10px', marginBottom: '10px'}}>\n                    <Typography variant=\"h6\">Lisätiedot</Typography>\n                    <TextField\n                        name=\"desc\"\n                        label=\"Lisätiedot\"\n                        fullWidth\n                        value={data.desc}\n                        onChange={(evt: any) => onFieldChange(evt.target.name, evt.target.value)}\n                    />\n                    <TextField\n                        name=\"venueUrl\"\n                        label=\"Nettiosoite\"\n                        type=\"url\"\n                        fullWidth\n                        value={data.venueUrl}\n                        onChange={(evt: any) => onFieldChange(evt.target.name, evt.target.value)}\n                    />\n                </Paper>\n            </DialogContent>\n            <DialogActions>\n                {deleteButton}\n                <Button\n                    variant=\"contained\"\n                    color=\"default\"\n                    onClick={onCancel}\n                >\n                    Keskeytä\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={onSave}\n                    disabled={data.eventDate === '' || data.venueName === '' || data.venueCity === ''}\n                >\n                    Tallenna\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withStyles(styles)(GigDialog);","import React from 'react';\nimport { ResponsiveBar } from '@nivo/bar';\n\ninterface IProps {\n    data: any[],\n}\n\nconst GigsGraph = (props: IProps) => {\n    const getGraphData = (sourceData: any[]): any[] => {\n        // Get distinct event types\n        const distinctTypes = Array.from(new Set(sourceData.map((item: any) => item.eventType)));\n\n        // Collect year data to an object\n        const yearData: any = {};\n        sourceData.forEach((event: any) => {\n            const year = event.eventDate.substr(0, 4);\n            let yearObj: any = {};\n            if (!yearData[year]) {\n                yearObj = { year };\n                distinctTypes.forEach((item: any) => {\n                    yearObj[item] = 0;\n                });\n                yearData[year] = yearObj;\n            } else {\n                yearObj = yearData[year];\n            }\n            yearObj[event.eventType] += 1;\n        });\n\n        // Make it an array\n        const yearArr: any[] = Object.keys(yearData).map((year: string) => {\n            return {\n                ...yearData[year],\n            };\n        });\n        return yearArr;\n    }\n\n    const { data } = props;\n    return (\n        <ResponsiveBar\n            margin={{\n                top: 50,\n                right: 50,\n                bottom: 50,\n                left: 50,\n            }}\n            data={getGraphData(data)}\n            indexBy=\"year\"\n            keys={['electric', 'acoustic']}\n            padding={0.2}\n            labelTextColor='inherit:darker(1.4)'\n            labelSkipWidth={16}\n            labelSkipHeight={16}\n        />\n    );\n}\n\nexport default GigsGraph;","import React, { Component } from 'react';\nimport firebase from 'firebase';\nimport { Avatar, Button, CircularProgress, List, ListItem, ListItemText, Table, TableBody, TableCell, TableHead, TableRow, Typography } from '@material-ui/core';\nimport { Theme, withStyles } from '@material-ui/core/styles';\nimport OpenIcon from '@material-ui/icons/ArrowForwardIos';\nimport red from '@material-ui/core/colors/red';\nimport grey from '@material-ui/core/colors/grey';\n\nimport GigDialog from '../components/GigDialog';\nimport GigsGraph from './GigsPage/GigsGraph';\n\ninterface IGig {\n    id?: string;\n    desc: string;\n    eventDate: string;\n    eventType: string;\n    venueAddress: string;\n    venueCity: string;\n    venueImgUrl: string;\n    venueName: string;\n    venueUrl: string;\n}\n\nconst styles = (theme: Theme) => ({\n    root: {\n        // padding: theme.spacing.unit * 3,\n    },\n    electricAvatar: {\n        color: red[500],\n        backgroundColor: grey[900],\n    },\n    openIcon: {\n        color: grey[400],\n    },\n    addButton: {\n        marginTop: theme.spacing.unit * 2,\n        marginLeft: theme.spacing.unit * 2,\n    },\n    loadingContainer: {\n        marginTop: theme.spacing.unit * 2,\n        marginLeft: theme.spacing.unit * 2,\n    },\n    title: {\n        padding: theme.spacing.unit * 2,\n        paddingLeft: theme.spacing.unit * 3,\n    },\n    graph: {\n        height: '300px',\n        width: '100%',\n    }\n});\n\ninterface IState {\n    gigs: IGig[],\n    gigToEdit?: IGig,\n    loading: boolean,\n}\n\nconst getISODateString = (dateValue: Date): string => {\n    const y = dateValue.getFullYear().toString();\n    let m = (dateValue.getMonth() + 1).toString();\n    let d = dateValue.getDate().toString();\n    if (m.length === 1) { m = `0${m}`; }\n    if (d.length === 1) { d = `0${d}`; }\n    return `${y}-${m}-${d}`;\n};\n\nclass Gig implements IGig {\n    public readonly id?: string = undefined;\n    public desc: string = '';\n    public eventDate: string = getISODateString(new Date());\n    public eventType: string = 'electric';\n    public venueAddress: string = '';\n    public venueCity: string = '';\n    public venueImgUrl: string = '';\n    public venueName: string = '';\n    public venueUrl: string = '';\n\n    constructor(gig?: IGig) {\n        if (!!gig) {\n            this.id = gig.id;\n            this.desc = gig.desc;\n            this.eventDate = gig.eventDate;\n            this.eventType = gig.eventType;\n            this.venueAddress = gig.venueAddress;\n            this.venueCity = gig.venueCity;\n            this.venueImgUrl = gig.venueImgUrl;\n            this.venueName = gig.venueName;\n            this.venueUrl = gig.venueUrl;    \n        }\n    }\n}\n\nclass GigsPage extends Component<any, IState> {\n    state: IState = {\n        gigs: [],\n        gigToEdit: undefined,\n        loading: false,\n    }\n\n    sortGigs = (gigs: IGig[]): IGig[] => {\n        return gigs.sort((a: any, b: any) => {\n            if (a.eventDate > b.eventDate) return -1;\n            if (a.eventDate < b.eventDate) return 1;\n            return 0;\n        });\n    }\n\n    componentDidMount() {\n        this.setState({loading: true}, () => {\n            firebase.database().ref('events').orderByChild('eventDate').once('value').then(snapshot => {\n                let gigs: any[] = [];\n                snapshot.forEach((gig: any) => {\n                    // gigs.push(gig.val());\n                    gigs.push({\n                        ...gig.val(),\n                        id: gig.key,\n                    });\n                })\n                gigs = this.sortGigs(gigs);\n                this.setState({ gigs, loading: false });\n            });    \n        });\n    }\n\n    handleEdit = (gig: IGig) => {\n        this.setState((prevState: IState) => ({\n            ...prevState,\n            gigToEdit: new Gig(gig),\n        }));\n    }\n\n    handleEditFieldChange = (name: string, value: any) => {\n        this.setState((prevState: any) => ({\n            ...prevState,\n            gigToEdit: {\n                ...prevState.gigToEdit,\n                [name]: value,\n            },\n        }));\n    }\n\n    getUpdateObject = (gig: IGig) => {\n        const retVal = {\n            id: gig.id || null,\n            desc: gig.desc !== undefined && gig.desc !== '' ? gig.desc : null,\n            eventDate: gig.eventDate,\n            eventType: gig.eventType,\n            venueAddress: gig.venueAddress !== undefined && gig.venueAddress !== '' ? gig.venueAddress : null,\n            venueCity: gig.venueCity !== undefined && gig.venueCity !== '' ? gig.venueCity : null,\n            venueImgUrl: gig.venueImgUrl !== undefined && gig.venueImgUrl !== '' ? gig.venueImgUrl : null,\n            venueName: gig.venueName,\n            venueUrl: gig.venueUrl !== undefined && gig.venueUrl !== '' ? gig.venueUrl : null,\n        };\n        return retVal;\n    }\n\n    handleEditSave = () => {\n        const { gigToEdit } = this.state;\n        if (!gigToEdit) { return; }\n        let addMode: boolean = false;\n        if (!gigToEdit.id) {\n            addMode = true;\n            const myRef = firebase.database().ref('/events').push();\n            gigToEdit.id = myRef.key || '';\n        }\n        if (!gigToEdit.id) { return; }\n        const gigToUpdate = this.getUpdateObject(gigToEdit);\n        firebase.database().ref(`events/${gigToUpdate.id}`).update(\n            gigToUpdate,\n            (err: any) => {\n                this.setState((prevState: IState) => {\n                    let newGigs = prevState.gigs;\n                    if (addMode) {\n                        newGigs.push(gigToEdit);\n                    } else {\n                        newGigs = newGigs.map((gig: IGig) => {\n                            if (gig.id === gigToEdit.id) { return gigToEdit };\n                            return gig;\n                        });\n                    }\n                    return {\n                        ...prevState,\n                        gigs: this.sortGigs(newGigs),\n                        gigToEdit: undefined,    \n                    };\n                });\n            },\n        );\n    }\n\n    handleEditCancel = () => {\n        this.setState({gigToEdit: undefined});\n    }\n\n    handleDelete = () => {\n        if (!this.state.gigToEdit) { return; }\n        const { id, eventDate, venueName, venueCity } = this.state.gigToEdit;\n        if (!id) return;\n        if (confirm(`Haluatko varmasti poistaa keikan \"${eventDate}: ${venueName}\"?`)) {\n            firebase.database().ref(`/events/${id}`).remove().then((err: any) => {\n                if (!err) {\n                    this.setState((prevState: IState) => {\n                        const updatedGigs = prevState.gigs.filter((gig: IGig) => gig.id !== id);\n                        return {\n                            ...prevState,\n                            gigs: updatedGigs,\n                            gigToEdit: undefined,\n                        }\n                    });\n                }\n            });\n        }\n    }\n\n    render() {\n        const { classes } = this.props;\n        const { gigs, gigToEdit, loading } = this.state;\n        return (\n            <div className={classes.root}>\n                <GigDialog\n                    data={gigToEdit}\n                    show={gigToEdit !== null}\n                    onFieldChange={this.handleEditFieldChange}\n                    onSave={this.handleEditSave}\n                    onCancel={this.handleEditCancel}\n                    onDelete={this.handleDelete}\n                />\n                <Typography className={classes.title} variant=\"subtitle1\">Keikat yhteensä {gigs.length} kpl</Typography>\n                <div className={classes.graph}>\n                    <GigsGraph data={gigs} />\n                </div>\n                <Button\n                    variant=\"contained\"\n                    onClick={() => this.handleEdit(new Gig())}\n                    className={classes.addButton}\n                >\n                    Lisää keikka\n                </Button>\n                {loading ? (\n                    <div className={classes.loadingContainer}>\n                        <CircularProgress />\n                    </div>\n                ) : (\n                    <List component=\"nav\">\n                        {gigs.map((gig: any) => (\n                            <ListItem\n                                button\n                                key={gig.id}\n                                onClick={() => this.handleEdit(gig)}\n                            >\n                                <Avatar className={gig.eventType.substr(0,1) === 'e' ? classes.electricAvatar : ''}>{gig.eventType.substr(0,2).toUpperCase()}</Avatar>\n                                <ListItemText primary={`${gig.eventDate}: ${gig.venueName}`} secondary={`${gig.venueCity}`} />\n                                <OpenIcon className={classes.openIcon} />\n                            </ListItem>\n                        ))}\n                    </List>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default withStyles(styles, {withTheme: true})(GigsPage);","import React from 'react';\nimport {\n    Button,\n    Dialog,\n    DialogTitle,\n    DialogActions,\n    DialogContent,\n    FormControlLabel,\n    Paper,\n    Radio,\n    RadioGroup,\n    TextField,\n    Theme,\n    Typography,\n    withStyles,\n} from '@material-ui/core'\n\ninterface IProps {\n    show: boolean;\n    data: any;\n    width?: any;\n    onSave: (event: React.MouseEvent) => void;\n    onCancel: (event: React.MouseEvent) => void;\n    onDelete: () => void;\n    onFieldChange: (fieldName: string, value: any) => void;\n    classes: any,\n}\n\nconst styles = (theme: Theme) => ({\n    root: {\n        backgroundColor: theme.palette.background.default,\n    },\n});\n\nconst TestimonialDialog = (props: IProps) => {\n    const { classes, show, data, onSave, onCancel, onFieldChange, onDelete } = props;\n    if (!data) { return null; }\n\n    let deleteButton = null;\n    if (!!data.id) {\n        deleteButton = <Button variant=\"text\" color=\"secondary\" onClick={onDelete}>Poista</Button>;\n    }\n\n    return (\n        <Dialog\n            PaperProps={{\n                classes: {\n                    root: classes.root,\n                },\n            }}\n            open={show}\n            // fullWidth={true}\n            fullScreen\n            maxWidth={'sm'}\n        >\n            <DialogTitle>Suosituksen tiedot</DialogTitle>\n            <DialogContent>\n                <Paper elevation={1} style={{padding: '10px'}}>\n                    <TextField\n                        name=\"quoter\"\n                        label=\"Suosittelija *\"\n                        fullWidth\n                        value={data.quoter || ''}\n                        onChange={(evt: any) => onFieldChange(evt.target.name, evt.target.value)}\n                    />\n                    <TextField\n                        name=\"timeAndPlace\"\n                        label=\"Missä ja milloin\"\n                        multiline\n                        rowsMax={3}\n                        fullWidth\n                        value={data.timeAndPlace || ''}\n                        onChange={(evt: any) => onFieldChange(evt.target.name, evt.target.value)}\n                    />\n                    <TextField\n                        name=\"quote\"\n                        label=\"Suositusteksti *\"\n                        multiline\n                        rowsMax={10}\n                        fullWidth\n                        value={data.quote || ''}\n                        onChange={(evt: any) => onFieldChange(evt.target.name, evt.target.value)}\n                    />\n                </Paper>\n            </DialogContent>\n            <DialogActions>\n                {deleteButton}\n                <Button\n                    variant=\"contained\"\n                    color=\"default\"\n                    onClick={onCancel}\n                >\n                    Keskeytä\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={onSave}\n                    disabled={data.quote === '' || data.quoter === ''}\n                >\n                    Tallenna\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withStyles(styles)(TestimonialDialog);","import React, { Component } from 'react';\nimport firebase from 'firebase';\nimport { Avatar, Button, CircularProgress, List, ListItem, ListItemText, Theme, Typography, withStyles } from '@material-ui/core';\nimport OpenIcon from '@material-ui/icons/ArrowForwardIos';\nimport grey from '@material-ui/core/colors/grey';\n\nimport TestimonialDialog from './TestimonialsPage/TestimonialDialog';\n\nconst styles = (theme: Theme) => ({\n    root: {\n\n    },\n    openIcon: {\n        color: grey[400],\n    },\n    addButton: {\n        marginTop: theme.spacing.unit * 2,\n        marginLeft: theme.spacing.unit * 2,\n    },\n    loadingContainer: {\n        marginTop: theme.spacing.unit * 2,\n        marginLeft: theme.spacing.unit * 2,\n    },\n    title: {\n        padding: theme.spacing.unit * 2,\n        paddingLeft: theme.spacing.unit * 3,\n    },\n});\n\ninterface ITestimonial {\n    id?: string;\n    quote: string;\n    quoter: string;\n    timeAndPlace: string;\n}\n\ninterface IState {\n    testimonials: ITestimonial[],\n    testimonialToEdit?: ITestimonial,\n    loading: boolean,\n}\n\nclass Testimonial implements ITestimonial {\n    public readonly id?: string = undefined;\n    public quote: string = '';\n    public quoter: string = '';\n    public timeAndPlace: string = '';\n\n    constructor(item?: ITestimonial) {\n        if (!!item) {\n            this.id = item.id;\n            this.quote = item.quote;\n            this.quoter = item.quoter;\n            this.timeAndPlace = item.timeAndPlace;\n        }\n    }\n}\n\nclass TestimonialsPage extends Component<any, any> {\n    state: IState = {\n        testimonials: [],\n        testimonialToEdit: undefined,\n        loading: false,\n    }\n\n    componentDidMount() {\n        this.setState({loading: true}, () => {\n            firebase.database().ref('testimonials').orderByKey().once('value').then(snapshot => {\n                let rows: any[] = [];\n                snapshot.forEach((row: any) => {\n                    rows.push({\n                        ...row.val(),\n                        id: row.key,\n                    });\n                })\n                this.setState({ testimonials: rows, loading: false });\n            });    \n        });\n    }\n\n    handleEdit = (item: ITestimonial) => {\n        this.setState((prevState: IState) => ({\n            ...prevState,\n            testimonialToEdit: new Testimonial(item),\n        }));\n    }\n\n    handleEditFieldChange = (name: string, value: any) => {\n        this.setState((prevState: any) => ({\n            ...prevState,\n            testimonialToEdit: {\n                ...prevState.testimonialToEdit,\n                [name]: value,\n            },\n        }));\n    }\n\n    getUpdateObject = (item: ITestimonial) => {\n        const retVal = {\n            id: item.id || null,\n            quote: item.quote,\n            quoter: item.quoter,\n            timeAndPlace: item.timeAndPlace !== undefined && item.timeAndPlace !== '' ? item.timeAndPlace : null,\n        };\n        return retVal;\n    }\n\n    handleEditSave = () => {\n        const { testimonialToEdit } = this.state;\n        if (!testimonialToEdit) { return; }\n        let addMode: boolean = false;\n        if (!testimonialToEdit.id) {\n            addMode = true;\n            const myRef = firebase.database().ref('/testimonials').push();\n            testimonialToEdit.id = myRef.key || '';\n        }\n        if (!testimonialToEdit.id) { return; }\n        const testimonialToUpdate = this.getUpdateObject(testimonialToEdit);\n        firebase.database().ref(`testimonials/${testimonialToUpdate.id}`).update(\n            testimonialToUpdate,\n            (err: any) => {\n                this.setState((prevState: IState) => {\n                    let newTestimonials = prevState.testimonials;\n                    if (addMode) {\n                        newTestimonials.push(testimonialToEdit);\n                    } else {\n                        newTestimonials = newTestimonials.map((item: ITestimonial) => {\n                            if (item.id === testimonialToEdit.id) { return testimonialToEdit };\n                            return item;\n                        });\n                    }\n                    return {\n                        ...prevState,\n                        testimonials: newTestimonials,\n                        testimonialToEdit: undefined,    \n                    };\n                });\n            },\n        );\n    }\n\n    handleEditCancel = () => {\n        this.setState({testimonialToEdit: undefined});\n    }\n\n    handleDelete = () => {\n        if (!this.state.testimonialToEdit) { return; }\n        const { id, quoter, timeAndPlace } = this.state.testimonialToEdit;\n        if (!id) return;\n        if (confirm(`Haluatko varmasti poistaa suosituksen \"${quoter}: ${timeAndPlace}\"?`)) {\n            firebase.database().ref(`/testimonials/${id}`).remove().then((err: any) => {\n                if (!err) {\n                    this.setState((prevState: IState) => {\n                        const updatedTestimonials = prevState.testimonials.filter((item: ITestimonial) => item.id !== id);\n                        return {\n                            ...prevState,\n                            testimonials: updatedTestimonials,\n                            testimonialToEdit: undefined,\n                        }\n                    });\n                }\n            });\n        }\n    }\n\n    render() {\n        const { classes } = this.props;\n        const { testimonials, testimonialToEdit, loading } = this.state;\n        return (\n            <div className={classes.root}>\n                <TestimonialDialog\n                    data={testimonialToEdit}\n                    show={testimonialToEdit !== null}\n                    onFieldChange={this.handleEditFieldChange}\n                    onSave={this.handleEditSave}\n                    onCancel={this.handleEditCancel}\n                    onDelete={this.handleDelete}\n                />\n                {/* <Typography className={classes.title} variant=\"subtitle1\">Suosittelut</Typography> */}\n                <Button\n                    variant=\"contained\"\n                    onClick={() => this.handleEdit(new Testimonial())}\n                    className={classes.addButton}\n                >\n                    Lisää suosittelu\n                </Button>\n                {loading ? (\n                    <div className={classes.loadingContainer}>\n                        <CircularProgress />\n                    </div>\n                ) : (\n                    <List component=\"nav\">\n                        {testimonials.map((row: any) => (\n                            <ListItem\n                                button\n                                key={row.id}\n                                onClick={() => this.handleEdit(row)}\n                            >\n                                <ListItemText\n                                    primary={`${row.quoter}: ${row.timeAndPlace || ''}`}\n                                    secondary={row.quote}\n                                />\n                                <OpenIcon className={classes.openIcon} />\n                            </ListItem>\n                        ))}\n                    </List>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default withStyles(styles, {withTheme: true})(TestimonialsPage);","import React from 'react';\nimport {\n    Button,\n    Grid,\n    Paper,\n    TextField,\n    Theme,\n    Typography,\n    withStyles,\n} from '@material-ui/core';\nimport Logo from '../assets/images/khslogo.png';\n\ninterface IProps {\n    data: any;\n    onFieldChange: (fieldName: string, value: any) => void;\n    onSignIn: () => void;\n}\n\nconst styles = (theme: Theme) => ({\n    root: {\n        maxWidth: '300px',\n        paddingTop: theme.spacing.unit * 5,\n        margin: 'auto',\n    },\n    header: {\n        padding: theme.spacing.unit * 3,\n        backgroundColor: theme.palette.grey[900],\n        color: theme.palette.common.white,\n    },\n    paper: {\n        padding: theme.spacing.unit * 3,\n    },\n    actionButtons: {\n        paddingTop: theme.spacing.unit * 2,\n        display: 'flex',\n    },\n    loginButton: {\n        flex: 1,\n    },\n    siteButton: {\n        flex: 1,\n    },\n});\n\nconst LoginForm = (props: any) => {\n    const { classes, data, onFieldChange, onSignIn } = props;\n    if (!data) return null;\n    return (\n        <div className={classes.root}>\n            <div className={classes.header}>\n                <img src={Logo} />\n                <Typography color=\"inherit\" variant=\"subtitle1\">Admin sivusto</Typography>\n            </div>\n            <Paper className={classes.paper}>\n                <TextField\n                    name=\"email\"\n                    label=\"Sähköposti\"\n                    type=\"email\"\n                    fullWidth\n                    value={data.email || ''}\n                    onChange={(evt: any) => onFieldChange(evt.target.name, evt.target.value)}\n                />\n                <TextField\n                    name=\"password\"\n                    label=\"Salasana\"\n                    type=\"password\"\n                    fullWidth\n                    value={data.password || ''}\n                    onChange={(evt: any) => onFieldChange(evt.target.name, evt.target.value)}\n                />\n                <Grid container justify=\"space-between\" className={classes.actionButtons}>\n                    <Grid item>\n                        <Button\n                            className={classes.loginButton} \n                            variant=\"contained\" \n                            color=\"primary\" \n                            onClick={onSignIn}\n                            disabled={data.email === '' || data.password === ''}\n                        >\n                            Kirjaudu\n                        </Button>\n                    </Grid>\n                    <Grid item>\n                        <Button\n                            href=\"https://heltterit.com\"\n                            className={classes.siteButton}\n                        >\n                            heltterit.com\n                        </Button>\n                    </Grid>\n                </Grid>\n            </Paper>\n        </div>\n    );\n};\n\nexport default withStyles(styles, {withTheme: true})(LoginForm);","import React, { Component } from 'react';\nimport { RouteComponentProps, Route, NavLink } from \"react-router-dom\";\nimport firebase from 'firebase';\nimport { AppBar, Button, CssBaseline, Paper, Tab, Tabs, Toolbar, Typography, StyledComponentProps, WithTheme } from '@material-ui/core';\nimport { Theme, withStyles } from '@material-ui/core/styles';\nimport KhsLogo from './assets/images/khslogo.png';\n\nimport StatisticsPage from './pages/StatisticsPage';\nimport GigsPage from './pages/GigsPage';\nimport TestimonialsPage from './pages/TestimonialsPage';\nimport LoginForm from './components/LoginForm';\n\nconst styles = (theme: Theme) => ({\n  root: {\n\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  appBar: {\n  },\n  appBarSpacer: {\n    minHeight: theme.mixins.toolbar.height,\n  },\n  content: {\n  }\n});\n\nclass App extends Component<any, any> {\n  state = {\n    signInData: {\n      email: '',\n      password: '',\n    },\n    isSignedIn: false,\n    selectedTab: 0,\n  }\n\n  // Listen to the Firebase Auth state and set the local state.\n  componentDidMount() {\n    firebase.auth().onAuthStateChanged((user: any) => {\n      this.setState({isSignedIn: !!user});\n    });\n    switch (this.props.location.pathname) {\n      case '/gigs':\n        this.setState({selectedTab: 1});\n        break;\n      case '/testimonials':\n        this.setState({selectedTab: 2});\n        break;\n      default:\n        this.setState({selectedTab: 0});\n    }\n  }\n\n  componentWillReceiveProps(newProps: any) {\n  }\n\n  // Make sure we un-register Firebase observers when the component unmounts.\n  componentWillUnmount() {\n  }\n\n  handleTabChange = (evt: any, selectedTab: any) => {\n    this.setState({ selectedTab });\n  }\n\n  handleSignInFieldChange = (name: string, value: string) => {\n    this.setState((prevState: any) => ({\n        ...prevState,\n        signInData: {\n            ...prevState.signInData,\n            [name]: value,\n        },\n    }));\n}\n\n  handleSignIn = () => {\n    const { email, password } = this.state.signInData;\n    if (email === '' || password === '') { return; }\n    firebase.auth().signInWithEmailAndPassword(email, password).then(user => {\n      if (!user) { return }\n      this.setState({isSignedIn: true});\n    });\n  }\n  \n  render() {\n    const { classes } = this.props;\n    const { signInData, isSignedIn, selectedTab } = this.state;\n    if (!isSignedIn) {\n      return (\n        <LoginForm data={signInData} onFieldChange={this.handleSignInFieldChange} onSignIn={this.handleSignIn} />\n      );\n    }\n    const LinkToStatistics = (props: any) => <NavLink to=\"/\" {...props} />;\n    const LinkToGigs = (props: any) => <NavLink to=\"/gigs\" {...props} />;\n    const LinkToTestimonials = (props: any) => <NavLink to=\"/testimonials\" {...props} />;\n    return (\n      <div className={classes.root}>\n        <CssBaseline />\n        <AppBar position=\"sticky\" className={classes.appBar}>\n          <Toolbar variant=\"dense\" color=\"primary\">\n            <div className={classes.grow}>\n              <img src={KhsLogo} />\n            </div>\n            {/* <Typography color=\"inherit\" variant=\"h5\" className={classes.grow}>\n              Admin\n            </Typography> */}\n            <Button color=\"inherit\" onClick={() => firebase.auth().signOut()}>\n              Ulos\n            </Button>\n          </Toolbar>\n          <Toolbar variant=\"dense\">\n            <Tabs\n              onChange={this.handleTabChange}\n              value={selectedTab}\n              centered\n            >\n              <Tab label=\"Kävijät\" component={LinkToStatistics} />\n              <Tab label=\"Keikat\" component={LinkToGigs} />\n              <Tab label=\"Suosittelut\" component={LinkToTestimonials} />\n            </Tabs>\n          </Toolbar>\n        </AppBar>\n        <main className={classes.content}>\n          <div className=\"appBarSpacer\" />\n          <Route exact path=\"/\" component={StatisticsPage} />\n          <Route path=\"/gigs\" component={GigsPage} />\n          <Route path=\"/testimonials\" component={TestimonialsPage} />\n        </main>\n        <footer>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles, {withTheme: true})(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport firebase from 'firebase';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\n// Initialize Firebase\nvar config = {\n    apiKey: \"AIzaSyAt7xOwh_NvvSXTbrYTusSjneKNtKeRhuw\",\n    authDomain: \"heltterit.firebaseapp.com\",\n    databaseURL: \"https://heltterit.firebaseio.com\",\n    projectId: \"heltterit\",\n    storageBucket: \"heltterit.appspot.com\",\n    messagingSenderId: \"466981045601\"\n};\nfirebase.initializeApp(config);\n\nconst theme = createMuiTheme({\n    palette: {\n        primary: {\n            light: '#888',\n            main: '#000',\n            dark: '#444',\n            contrastText: '#B71C1C',\n        },\n    },\n    typography: {\n        useNextVariants: true,\n    },\n});\n\nReactDOM.render((\n    <BrowserRouter>\n        <MuiThemeProvider theme={theme}>\n            <Route path=\"/\" component={App} />\n        </MuiThemeProvider>\n    </BrowserRouter>\n), document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}